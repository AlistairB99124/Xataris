<table mat-table #table [dataSource]="dataSource">
    <ng-container *ngFor="let column of gridOptions.columnDefs" matColumnDef="{{column.field}}">
        <!-------Checkbox-Start-------->        
        <div *ngIf="column.columnType === 4">
            <th mat-header-cell *matHeaderCellDef class="checkbox" style="padding-left: 0px !important">
                <mat-checkbox *ngIf="column.renderType === undefined" [(ngModel)]="allSelected" (change)="selectAll()"></mat-checkbox>
            </th>
            <td mat-cell *matCellDef="let element" class="checkbox" [ngClass]="{'highlight-row': element.selected === true}">
                <mat-checkbox *ngIf="column.renderType === undefined" [(ngModel)]="element.selected"></mat-checkbox>
            </td>
            <td mat-footer-cell *matFooterCellDef>{{getTotal(column)}}</td>
        </div>
        <!-------Checkbox-End-------->
        <!-------Button-Start-------->
        <div *ngIf="column.columnType === 5">
            <th mat-header-cell *matHeaderCellDef class="icon"></th>
            <td mat-cell *matCellDef="let element" class="icon" [ngClass]="{'highlight-row': element.selected === true}">
                <button *ngIf="!column.actions" mat-button mat-icon-button (click)="column.onClick(element)">
                    <mat-icon *ngIf="column.iconName ? true : false" style="color: #039be5;">{{column.iconName}}</mat-icon>
                    <span style="color: rgba(139, 63, 139, 0.8)" *ngIf="column.iconName ? false : true">{{element[column.field]}}</span>
                </button>
                <button *ngIf="column.actions" mat-button mat-icon-button [matMenuTriggerFor]="menu">
                        <mat-icon *ngIf="column.iconName ? true : false" style="color: #039be5;">{{column.iconName}}</mat-icon>
                </button>
                <mat-menu #menu="matMenu">
                    <button *ngFor="let action of column.actions" mat-menu-item (click)="action.onClick(element)">
                        <mat-icon>{{action.icon}}</mat-icon>
                        <span>{{action.label}}</span>
                    </button>
                </mat-menu>
            </td>
            <td mat-footer-cell *matFooterCellDef><strong>{{getTotal(column)}}</strong></td>
        </div>
         <!-------Button-End-------->
         <!------text-start------>
         <div *ngIf="column.columnType !== 4 || column.columnType !== 5">
                <th mat-header-cell *matHeaderCellDef class="text-left" style="position: relative">
                    <div fxLayout="row" fxLayoutAlign="start center">
                        <strong mat-sort-header fxFlex>{{column.title}}</strong>
                        <button *ngIf="gridOptions.idRow !== ''" mat-button mat-icon-button [matMenuTriggerFor]="menu" class="filter-button" (menuOpened)="onFilterClick(column)">
                            <mat-icon>menu</mat-icon>
                        </button>
                        <mat-menu #menu="matMenu">
                            <div fxLayout="row" (click)="$event.stopPropagation()"  style="margin-left: 10px; min-height: 40px;">
                                <input matInput type="text" 
                                placeholder="Search"
                                [(ngModel)]="filterText" 
                                (ngModelChange)="searchFilter($event)"/>
                            </div>
                            <ng-template matMenuContent>
                                <mat-divider></mat-divider>
                                <div fxLayout="row" mat-menu-item (click)="$event.stopPropagation();">
                                    <mat-checkbox [(ngModel)]="allFilteredSelected" (ngModelChange)="selectAllFiltered()"></mat-checkbox>
                                    <span style="margin-left: 10px" fxFlex>Select All</span>
                                </div>
                                <div fxLayout="row" mat-menu-item *ngFor="let option of filterOptionsFiltered" mat-menu-item (click)="$event.stopPropagation();">
                                    <mat-checkbox [(ngModel)]="option.selected" (ngModelChange)="setFilteredData()"></mat-checkbox>
                                    <span style="margin-left: 10px" fxFlex>{{option.field}}</span>
                                </div>
                            </ng-template>
                        </mat-menu>
                    </div>
                </th>
                <td mat-cell *matCellDef="let element" [ngClass]="{'highlight-row': element.selected === true}">
                    <div fxLayout="row" fxLayoutAlign="{{column.class === 'text-centre' ? 'center center' : column.class === 'text-right' ? 'end center' : 'start center'}}">
                        <span *ngIf="column.renderType === undefined">{{renderCell(element, column)}}</span>
                        <a *ngIf="column.renderType === 0" style="cursor: pointer; color: rgba(139, 63, 139, 1)" (click)="column.onClick(element)">{{renderCell(element, column)}}</a>
                    </div>
                </td>
                <td mat-footer-cell *matFooterCellDef><strong [ngStyle]="{'float': column.columnType === 1 || column.columnType === 2 ? 'right' : ''}">{{getTotal(column)}}</strong></td>
            </div>
            <!-------Text-End-------->
    </ng-container>
</table>