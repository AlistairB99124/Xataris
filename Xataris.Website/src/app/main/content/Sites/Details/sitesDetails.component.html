<div id="forms" class="page-layout simple fullwidth" fxLayout="column" fusePerfectScrollbar>

    <!-- HEADER -->
    <div class="header xataris-accent-bg p-24 h-160" fxLayout="row" fxLayoutAlign="start center">
        <div fxLayout="column" fxLayoutAlign="center start">
            <div class="black-fg" fxLayout="row" fxLayoutAlign="start center">
                <mat-icon class="secondary-text s-16">home</mat-icon>
                <mat-icon class="secondary-text s-16">chevron_right</mat-icon>
                <span class="secondary-text">Management</span>
            </div>
            <div class="black-fg" fxLayout="row" fxLayoutAlign="start end">
                <div class="h1 mt-16">Sites</div>
            </div>

        </div>
    </div>
    <!-- / HEADER -->
    <!-- CONTENT -->
    <div class="content p-24">
        <mat-toolbar class="mat-white-bg mat-elevation-z4">
            <mat-toolbar-row fxLayoutAlign="end center">                   
                <button mat-icon-button matTooltip="Save Site" class="fuse-search-bar-collapser mat-icon-button" (click)="saveSite()"
                        aria-label="Save Site">
                    <mat-icon class="s-24">save</mat-icon>
                </button>
                <button mat-icon-button matTooltip="Cancel" class="fuse-search-bar-collapser mat-icon-button" (click)="cancel()"
                        aria-label="Cancel">
                    <mat-icon class="s-24">clear</mat-icon>
                </button>
            </mat-toolbar-row>
        </mat-toolbar>
        <mat-divider></mat-divider>
        <mat-card>
            <mat-card-content fxLayout="column" fxFlex="100">
                <div fxLayout="row">
                    <button style="position: absolute; z-index: 100;" 
                        mat-icon-button 
                        matTooltip="Search Address" 
                        class="fuse-search-bar-collapser mat-icon-button" 
                        (click)="data.showSearchInput = !data.showSearchInput"
                        aria-label="Search Address"
                        [hidden]="data.showSearchInput">
                        <mat-icon class="s-24">search</mat-icon>
                    </button>
                    <mat-form-field [hidden]="!data.showSearchInput" fxFlex class="agm-search">
                        <input placeholder="search for location"
                                name="search"
                                autocorrect="off" 
                                autocapitalize="off" 
                                spellcheck="off" 
                                type="text"                                
                                matInput
                                #search [formControl]="data.searchControl">
                        <button
                            mat-icon-button 
                            matTooltip="Close Search" 
                            style="position: absolute; top: 0px; right: 5px"
                            class="fuse-search-bar-collapser mat-icon-button" 
                            (click)="data.showSearchInput = !data.showSearchInput"
                            aria-label="Close Search">
                        <mat-icon class="s-24">close</mat-icon>
                    </button>
                    </mat-form-field>
                    <agm-map [latitude]="data.site.latLng.lat" [longitude]="data.site.latLng.lng" [zoom]="16">
                        <agm-marker [latitude]="data.site.latLng.lat"
                                    [longitude]="data.site.latLng.lng"
                                    [markerDraggable]="true"
                                    (dragEnd)="updateCoords($event)"></agm-marker>
                    </agm-map>
                </div>
            </mat-card-content>
        </mat-card>
        <mat-divider></mat-divider>
                <mat-card>
                    <mat-card-content>
                        <div fxLayout="row">
                            <mat-form-field fxFlex>
                                    <input matInput placeholder="Name" [(ngModel)]="data.site.name" required>
                                </mat-form-field>
                        </div>
                        <div fxLayout="row">
                            <mat-form-field fxFlex>
                                <input matInput placeholder="Abbreviation" [(ngModel)]="data.site.abbr" required>
                            </mat-form-field>                                
                        </div>
                        <div fxLayout="row">
                            <mat-form-field fxFlex>
                                <input matInput placeholder="Display Address" [(ngModel)]="data.site.address" required>
                            </mat-form-field>                                
                        </div>
                    </mat-card-content>
                </mat-card>
    </div>
    <!-- / CONTENT -->

</div>